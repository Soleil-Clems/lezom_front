model User {
  id          String    @id @default(uuid())
  username    String    @unique @db.VarChar(32)
  firstname   String    @db.VarChar(50)
  lastname    String    @db.VarChar(50)
  email       String    @unique @db.VarChar(255)
  password    String    @db.VarChar(255)
  img         String?   @db.VarChar(500)
  description String?   @db.VarChar(500)
  role        UserRole  @default(MEMBER)
  isActive    Boolean   @default(true) @map("is_active")
  status      String    @default("offline") @db.VarChar(20)
  lastSeen    DateTime? @map("last_seen")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")

  ownedServers       Server[]        @relation("ServerOwner")
  memberships        ServerMember[]
  createdInvitations Invitation[]    @relation("InvitationCreator")
  bansReceived       Ban[]           @relation("BannedUser")
  bansGiven          Ban[]           @relation("BanningUser")
  refreshTokens      RefreshToken[]
  conversations1     Conversation[]  @relation("ConversationUser1")
  conversations2     Conversation[]  @relation("ConversationUser2")

  @@index([email])
  @@index([username])
  @@map("users")
}

enum UserRole {
  MEMBER
  ADMIN
}
