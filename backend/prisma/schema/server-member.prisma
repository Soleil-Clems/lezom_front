model ServerMember {
  id        String     @id @default(uuid())
  userId    String     @map("user_id")
  serverId  String     @map("server_id")
  role      MemberRole @default(MEMBER)
  joinedAt  DateTime   @default(now()) @map("joined_at")
  updatedAt DateTime   @updatedAt @map("updated_at")

  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  server Server @relation(fields: [serverId], references: [id], onDelete: Cascade)

  @@unique([userId, serverId])
  @@index([userId])
  @@index([serverId])
  @@map("server_members")
}

enum MemberRole {
  OWNER
  ADMIN
  MODERATOR
  MEMBER
}
